{% extends 'base.html' %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="max-w-4xl mx-auto">
        <!-- Ti√™u ƒë·ªÅ -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-800">Th√™m s·∫£n ph·∫©m m·ªõi</h1>
            <p class="text-gray-500 mt-2">ƒêi·ªÅn th√¥ng tin s·∫£n ph·∫©m v√†o form b√™n d∆∞·ªõi</p>
        </div>

        <!-- Form th√™m s·∫£n ph·∫©m -->
        <form method="POST" enctype="multipart/form-data" class="space-y-8">
            {% csrf_token %}

            <!-- Th√¥ng tin c∆° b·∫£n -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">üì± Th√¥ng tin c∆° b·∫£n</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- H√£ng s·∫£n xu·∫•t -->
                    <div>
                        <label class="block text-gray-700 mb-2">H√£ng s·∫£n xu·∫•t *</label>
                        <input type="text" name="brand" required
                               placeholder="V√≠ d·ª•: Apple, Samsung, Xiaomi"
                               class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                    </div>
                    
                    <!-- T√™n s·∫£n ph·∫©m -->
                    <div>
                        <label class="block text-gray-700 mb-2">T√™n s·∫£n ph·∫©m *</label>
                        <input type="text" name="name" required
                               placeholder="V√≠ d·ª•: iPhone 15 Pro Max"
                               class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                    </div>
                </div>
                
                <!-- ·∫¢nh ch√≠nh -->
                <div class="mt-4">
                    <label class="block text-gray-700 mb-2">·∫¢nh ch√≠nh *</label>
                    <input type="file" name="main_image" accept="image/*" required
                           class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                    <p class="text-sm text-gray-500 mt-1">·∫¢nh n√†y s·∫Ω hi·ªÉn th·ªã trong danh s√°ch s·∫£n ph·∫©m</p>
                </div>
            </div>

            <!-- Gi√° c·∫£ -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">üí∞ Th√¥ng tin gi√° c·∫£</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Gi√° g·ªëc -->
                    <div>
                        <label class="block text-gray-700 mb-2">Gi√° g·ªëc (VNƒê) *</label>
                        <input type="number" name="original_price" min="0" required
                               placeholder="V√≠ d·ª•: 30000000"
                               class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                    </div>
                    
                    <!-- Ph·∫ßn trƒÉm gi·∫£m gi√° -->
                    <div>
                        <label class="block text-gray-700 mb-2">Ph·∫ßn trƒÉm gi·∫£m gi√° (%) *</label>
                        <input type="number" name="discount_percent" min="0" max="100" step="0.1" required
                               placeholder="V√≠ d·ª•: 13.8"
                               class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                        <p class="text-sm text-gray-500 mt-1">Gi√° s·∫Ω ƒë∆∞·ª£c t√≠nh t·ª± ƒë·ªông (VD: 13.8)</p>
                    </div>
                </div>
            </div>

            <!-- Th√¥ng tin b·∫£o h√†nh v√† ƒë·∫∑c ƒëi·ªÉm -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">üõ°Ô∏è B·∫£o h√†nh v√† ƒë·∫∑c ƒëi·ªÉm</h2>
                
                <!-- Th·ªùi gian b·∫£o h√†nh -->
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2">Th·ªùi gian b·∫£o h√†nh (th√°ng)</label>
                    <input type="number" name="warranty_months" min="0" value="12"
                           class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                </div>
                
                <!-- Checkboxes -->
                <div class="flex flex-wrap gap-4">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" name="free_shipping" 
                               class="w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary">
                        <span class="ml-2">Mi·ªÖn ph√≠ giao h√†ng</span>
                    </label>
                    
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" name="open_box_check"
                               class="w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary">
                        <span class="ml-2">M·ªü h·ªôp ki·ªÉm tra</span>
                    </label>
                    
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" name="return_30_days"
                               class="w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary">
                        <span class="ml-2">ƒê·ªïi tr·∫£ trong 30 ng√†y</span>
                    </label>
                </div>
                
                <!-- YouTube ID -->
                <div class="mt-4">
                    <label class="block text-gray-700 mb-2">ID Video YouTube</label>
                    <input type="text" name="youtube_id"
                           placeholder="V√≠ d·ª•: dQw4w9WgXcQ (l·∫•y ph·∫ßn cu·ªëi c·ªßa URL)"
                           class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                    <p class="text-sm text-gray-500 mt-1">Nh·∫≠p ID video ƒë·ªÉ hi·ªÉn th·ªã video ƒë√°nh gi√° trong trang chi ti·∫øt</p>
                </div>
            </div>

            <!-- M√¥ t·∫£ v√† th√¥ng s·ªë k·ªπ thu·∫≠t -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">üìù M√¥ t·∫£ v√† th√¥ng s·ªë k·ªπ thu·∫≠t</h2>
                
                <!-- M√¥ t·∫£ s·∫£n ph·∫©m -->
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2">M√¥ t·∫£ s·∫£n ph·∫©m *</label>
                    <textarea name="description" rows="5" required
                              placeholder="Nh·∫≠p m√¥ t·∫£ chi ti·∫øt v·ªÅ s·∫£n ph·∫©m..."
                              class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary"></textarea>
                </div>
                
                <!-- Th√¥ng s·ªë k·ªπ thu·∫≠t -->
                <div>
                    <label class="block text-gray-700 mb-2">Th√¥ng s·ªë k·ªπ thu·∫≠t *</label>
                    <textarea name="specifications" rows="5" required
                              placeholder="Nh·∫≠p th√¥ng s·ªë k·ªπ thu·∫≠t..."
                              class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary"></textarea>
                </div>
            </div>

            <!-- H√¨nh ·∫£nh chi ti·∫øt -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">üñºÔ∏è H√¨nh ·∫£nh chi ti·∫øt</h2>
                
                <label class="block text-gray-700 mb-2">Ch·ªçn nhi·ªÅu ·∫£nh chi ti·∫øt</label>
                <input type="file" name="detail_images" accept="image/*" multiple
                       class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                <p class="text-sm text-gray-500 mt-1">C√≥ th·ªÉ ch·ªçn nhi·ªÅu ·∫£nh c√πng l√∫c</p>
            </div>

            <!-- Tuy chon bo nho -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">üíæ Tuy chon bo nho</h2>
                <p class="text-gray-500 mb-4">Them cac phien ban bo nho khac nhau</p>
                
                <div id="storageContainer" class="space-y-3">
                    <!-- Dong dau tien -->
                    <div class="flex gap-3 storage-row">
                        <input type="text" name="storage_name[]" placeholder="Vi du: 128GB"
                               class="flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                        <input type="number" name="storage_price[]" placeholder="Gia goc (VND)"
                               min="0" value="0"
                               class="w-48 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                        <button type="button" onclick="addStorageRow()"
                                class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition">
                            +
                        </button>
                    </div>
                </div>
                
                <button type="button" onclick="addStorageRow()"
                        class="mt-4 text-primary hover:underline">
                    + Them tuy chon bo nho
                </button>
            </div>

            <!-- T√πy ch·ªçn m√†u s·∫Øc -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h2 class="text-xl font-semibold mb-4">üé® T√πy ch·ªçn m√†u s·∫Øc</h2>
                <p class="text-gray-500 mb-4">Th√™m c√°c m√†u s·∫Øc c√≥ s·∫µn cho s·∫£n ph·∫©m</p>
                
                <div id="colorContainer" class="space-y-3">
                    <!-- D√≤ng ƒë·∫ßu ti√™n -->
                    <div class="flex gap-3 color-row">
                        <input type="text" name="color_name[]" placeholder="V√≠ d·ª•: Midnight Black"
                               class="flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                        <input type="file" name="color_image[]" accept="image/*"
                               class="flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-primary">
                        <button type="button" onclick="addColorRow()"
                                class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition">
                            +
                        </button>
                    </div>
                </div>
                
                <button type="button" onclick="addColorRow()"
                        class="mt-4 text-primary hover:underline">
                    + Th√™m t√πy ch·ªçn m√†u s·∫Øc
                </button>
            </div>

            <!-- N√∫t submit -->
            <div class="flex justify-end gap-4">
                <a href="{% url 'home' %}" 
                   class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition">
                    H·ªßy
                </a>
                <button type="submit" 
                        class="px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-blue-600 transition">
                    Th√™m s·∫£n ph·∫©m
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

